{
  "hash": "1fdd16f4d38f78fe11ada5f56d55f194",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Cross Lagged Panel Models\"\nformat:\n  live-html:\n    css: \n      - exams/webex.css\n    include-after-body: exams/webex.js\ntoc: true    \n---\n\n\n::: {.cell}\n\n:::\n\n\n\n## Grundidee\nDie Grundidee von Cross Lagged Panel Models ist die Modellierung von wechselseitigen Einflüssen zwischen zwei oder mehr Variablen über die Zeit hinweg. Dabei wird angenommen, dass jede Variable nicht nur durch ihre eigenen vorherigen Werte (autoregressive Effekte) beeinflusst wird, sondern auch durch die vorherigen Werte der anderen Variablen [cross-lagged Effekte, @mackinnon2022, @hamaker2015]. Dies ermöglicht es unter bestimmten Annahmen, kausale Beziehungen zwischen den Variablen zu untersuchen und zu verstehen, wie Veränderungen in einer Variable Veränderungen in einer anderen Variable im Laufe der Zeit beeinflussen können.\nInwiefern die Annahmen für die kausale Interpretierbarkeit von Cross-Lagged Panel Models realistisch sind, gilt als stark diskutiert [eine unterhaltsame Einführung bietet @rohrer2025b].\n\n\n## Datenimport\n\n::: {.cell setup='true' exercise='cross lagged panel model'}\n\n```{.webr .cell-code}\nlibrary(haven)\nlibrary(dplyr)\nlibrary(tidyr)\nlibrary(stringr)\nlibrary(ggplot2)\nlibrary(colorspace)\nlibrary(tinytable)\nlibrary(lavaan)\n\ndata_star <- read_sav(\n  \"https://raw.githubusercontent.com/sammerk/WinterSchoolZH/master/data_star_workshop.sav\"\n)\n\ndata_star_subset <- data_star %>%\n  group_by(classID) %>%\n  summarize(\n    MathClassMeanCl0 = mean(gktmathss, na.rm = T),\n    MathClassMeanCl1 = mean(g1tmathss, na.rm = T),\n    MathClassMeanCl2 = mean(g2tmathss, na.rm = T),\n    MathClassMeanCl3 = mean(g3tmathss, na.rm = T),\n    MathClassMeanCl4 = mean(g4tmathss, na.rm = T),\n    PropFreeLunchCl0 = mean(ifelse(gkfreelunch == 1, 1, 0), na.rm = T),\n    PropFreeLunchCl1 = mean(ifelse(g1freelunch == 1, 1, 0), na.rm = T),\n    PropFreeLunchCl2 = mean(ifelse(g2freelunch == 1, 1, 0), na.rm = T),\n    PropFreeLunchCl3 = mean(ifelse(g3freelunch == 1, 1, 0), na.rm = T),\n    ClasssizeCl0 = mean(gkclasssize, na.rm = T),\n    ClasssizeCl1 = mean(g1classsize, na.rm = T),\n    ClasssizeCl2 = mean(g2classsize, na.rm = T),\n    ClasssizeCl3 = mean(g3classsize, na.rm = T),\n    ClasstypeCl0 = median(gkclasstype, na.rm = T),\n    ClasstypeCl1 = median(g1classtype, na.rm = T),\n    ClasstypeCl2 = median(g2classtype, na.rm = T),\n    ClasstypeCl3 = median(g3classtype, na.rm = T),\n    DummySmallClassCl0 = ifelse(ClasstypeCl0 == 1, 1, 0),\n    DummySmallClassCl1 = ifelse(ClasstypeCl1 == 1, 1, 0),\n    DummySmallClassCl2 = ifelse(ClasstypeCl2 == 1, 1, 0),\n    DummySmallClassCl3 = ifelse(ClasstypeCl3 == 1, 1, 0),\n    DummyAidClassCl0 = ifelse(ClasstypeCl0 == 3, 1, 0),\n    DummyAidClassCl1 = ifelse(ClasstypeCl1 == 3, 1, 0),\n    DummyAidClassCl2 = ifelse(ClasstypeCl2 == 3, 1, 0),\n    DummyAidClassCl3 = ifelse(ClasstypeCl3 == 3, 1, 0)\n  ) %>%\n  ungroup()\n```\n:::\n\n\n## Cross Lagged Panel Model\n\n\n::: {.cell exercise='cross lagged panel model'}\n\n```{.webr .cell-code}\nmodel_clp <- '\n\n# autoregressive paths\ng1selfconcraw ~ gkselfconcraw\ng2selfconcraw ~ g1selfconcraw\ng3selfconcraw ~ g2selfconcraw\n\ng1tmathss ~ gktmathss\ng2tmathss ~ g1tmathss\ng3tmathss ~ g2tmathss\n\n# cross lagged paths\ng1selfconcraw ~ gktmathss\ng2selfconcraw ~ g1tmathss\ng3selfconcraw ~ g2tmathss\n\ng1tmathss ~ gkselfconcraw\ng2tmathss ~ g1selfconcraw\ng3tmathss ~ g2selfconcraw\n'\n\n\nfit_clp <- sem(model_clp, data = data_star)\nsummary(fit_clp)\nparameterEstimates(fit_clp, standardized = T) %>%\n  tt(digits = 3)\nsemPlot::semPaths(fit_clp, what = \"std\", fade = F)\n```\n:::\n\n\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}